<!DOCTYPE html>\n<html lang=\"ar\" dir=\"rtl\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>الرسوم البيانية المحسنة - نظام إدارة مصروفات الإنتاج الفني</title>\n    \n    <!-- Google Fonts -->\n    <link href=\"https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap\" rel=\"stylesheet\">\n    \n    <!-- Font Awesome -->\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">\n    \n    <!-- Tailwind CSS -->\n    <script src=\"https://cdn.tailwindcss.com\"></script>\n    \n    <!-- Chart.js -->\n    <script src=\"https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js\"></script>\n    \n    <style>\n        body {\n            font-family: 'Cairo', sans-serif;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            min-height: 100vh;\n        }\n        \n        .chart-container {\n            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);\n            border-radius: 20px;\n            padding: 2rem;\n            box-shadow: \n                0 20px 25px -5px rgba(0, 0, 0, 0.1),\n                0 10px 10px -5px rgba(0, 0, 0, 0.04),\n                inset 0 1px 0 rgba(255, 255, 255, 0.1);\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            position: relative;\n            overflow: hidden;\n        }\n        \n        .chart-container::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 6px;\n            background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b, #ef4444, #8b5cf6);\n            border-radius: 20px 20px 0 0;\n        }\n        \n        .chart-container:hover {\n            transform: translateY(-8px);\n            box-shadow: \n                0 25px 50px -12px rgba(0, 0, 0, 0.25),\n                0 20px 25px -5px rgba(0, 0, 0, 0.1);\n        }\n        \n        .chart-wrapper {\n            position: relative;\n            height: 500px;\n            margin-top: 1.5rem;\n        }\n        \n        .chart-title {\n            font-size: 1.75rem;\n            font-weight: 700;\n            color: #1f2937;\n            margin-bottom: 0.5rem;\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n        }\n        \n        .chart-title::before {\n            content: '';\n            width: 6px;\n            height: 30px;\n            background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n            border-radius: 3px;\n        }\n        \n        .chart-subtitle {\n            color: #6b7280;\n            font-size: 1rem;\n            margin-bottom: 1.5rem;\n        }\n        \n        .stats-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 1.5rem;\n            margin-bottom: 2rem;\n        }\n        \n        .stat-card {\n            background: linear-gradient(135deg, #3b82f6, #1d4ed8);\n            color: white;\n            padding: 1.5rem;\n            border-radius: 16px;\n            text-align: center;\n            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);\n            transition: transform 0.3s ease;\n        }\n        \n        .stat-card:hover {\n            transform: translateY(-5px);\n        }\n        \n        .stat-value {\n            font-size: 2rem;\n            font-weight: 700;\n            margin-bottom: 0.5rem;\n        }\n        \n        .stat-label {\n            font-size: 0.875rem;\n            opacity: 0.9;\n        }\n        \n        .animate-in {\n            animation: slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        @keyframes slideInUp {\n            from {\n                opacity: 0;\n                transform: translateY(50px);\n            }\n            to {\n                opacity: 1;\n                transform: translateY(0);\n            }\n        }\n        \n        .header-gradient {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            padding: 3rem 0;\n            text-align: center;\n            margin-bottom: 3rem;\n        }\n        \n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 0 2rem;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header-gradient\">\n        <div class=\"container\">\n            <h1 class=\"text-4xl font-bold mb-4\">\n                <i class=\"fas fa-chart-line mr-4\"></i>\n                نظام إدارة مصروفات الإنتاج الفني\n            </h1>\n            <p class=\"text-xl opacity-90\">الرسوم البيانية المحسنة - عرض تفاعلي للمصروفات والميزانيات</p>\n        </div>\n    </div>\n    \n    <div class=\"container\">\n        <!-- إحصائيات سريعة -->\n        <div class=\"stats-grid animate-in\">\n            <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #3b82f6, #1d4ed8);\">\n                <div class=\"stat-value\">2,275,000 ر.س</div>\n                <div class=\"stat-label\">إجمالي المصروفات</div>\n            </div>\n            <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #10b981, #059669);\">\n                <div class=\"stat-value\">5</div>\n                <div class=\"stat-label\">فئات المصروفات</div>\n            </div>\n            <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #f59e0b, #d97706);\">\n                <div class=\"stat-value\">12</div>\n                <div class=\"stat-label\">المشاريع النشطة</div>\n            </div>\n            <div class=\"stat-card\" style=\"background: linear-gradient(135deg, #8b5cf6, #7c3aed);\">\n                <div class=\"stat-value\">92%</div>\n                <div class=\"stat-label\">معدل استخدام الميزانية</div>\n            </div>\n        </div>\n        \n        <!-- الرسم البياني المحسن -->\n        <div class=\"chart-container animate-in\">\n            <h2 class=\"chart-title\">\n                <i class=\"fas fa-chart-bar text-blue-600\"></i>\n                المصروفات حسب الفئات\n            </h2>\n            <p class=\"chart-subtitle\">\n                توزيع المصروفات على الفئات المختلفة مع عرض تفاعلي محسن\n            </p>\n            <div class=\"chart-wrapper\">\n                <canvas id=\"enhancedCategoryChart\"></canvas>\n            </div>\n        </div>\n        \n        <div style=\"height: 3rem;\"></div>\n    </div>\n    \n    <script>\n        // Enhanced Charts Implementation\n        class EnhancedCharts {\n            constructor() {\n                this.colors = {\n                    primary: '#3b82f6',\n                    secondary: '#10b981',\n                    accent: '#f59e0b',\n                    danger: '#ef4444',\n                    purple: '#8b5cf6',\n                    pink: '#ec4899',\n                    indigo: '#6366f1',\n                    teal: '#14b8a6',\n                    orange: '#f97316',\n                    emerald: '#059669'\n                };\n                \n                this.init();\n            }\n            \n            init() {\n                this.createEnhancedCategoryChart();\n            }\n            \n            createEnhancedCategoryChart() {\n                const ctx = document.getElementById('enhancedCategoryChart');\n                if (!ctx) return;\n                \n                // بيانات محسنة مع ألوان جميلة\n                const data = [\n                    { name: 'مصروفات الممثلين والفنانين', amount: 850000, color: this.colors.primary },\n                    { name: 'مصروفات الطعام والضيافة', amount: 620000, color: this.colors.secondary },\n                    { name: 'مصروفات الديكور والإكسسوار', amount: 380000, color: this.colors.accent },\n                    { name: 'مصروفات النقل والمواصلات', amount: 245000, color: this.colors.purple },\n                    { name: 'مصروفات المعدات والتقنية', amount: 180000, color: this.colors.pink }\n                ];\n                \n                new Chart(ctx, {\n                    type: 'bar',\n                    data: {\n                        labels: data.map(item => item.name),\n                        datasets: [{\n                            label: 'المبلغ (ريال سعودي)',\n                            data: data.map(item => item.amount),\n                            backgroundColor: data.map(item => item.color),\n                            borderColor: data.map(item => item.color),\n                            borderWidth: 3,\n                            borderRadius: 12,\n                            borderSkipped: false,\n                            barThickness: 50,\n                            maxBarThickness: 60\n                        }]\n                    },\n                    options: {\n                        responsive: true,\n                        maintainAspectRatio: false,\n                        indexAxis: 'y',\n                        layout: {\n                            padding: {\n                                top: 20,\n                                bottom: 20,\n                                left: 20,\n                                right: 20\n                            }\n                        },\n                        plugins: {\n                            legend: {\n                                display: false\n                            },\n                            tooltip: {\n                                backgroundColor: 'rgba(0, 0, 0, 0.9)',\n                                titleColor: '#ffffff',\n                                bodyColor: '#ffffff',\n                                borderColor: '#3b82f6',\n                                borderWidth: 2,\n                                cornerRadius: 12,\n                                displayColors: false,\n                                titleFont: {\n                                    family: 'Cairo',\n                                    size: 14,\n                                    weight: 'bold'\n                                },\n                                bodyFont: {\n                                    family: 'Cairo',\n                                    size: 13\n                                },\n                                callbacks: {\n                                    label: function(context) {\n                                        const value = new Intl.NumberFormat('ar-SA', {\n                                            style: 'currency',\n                                            currency: 'SAR',\n                                            minimumFractionDigits: 0\n                                        }).format(context.parsed.x);\n                                        return `المبلغ: ${value}`;\n                                    }\n                                }\n                            }\n                        },\n                        scales: {\n                            x: {\n                                beginAtZero: true,\n                                grid: {\n                                    color: 'rgba(0, 0, 0, 0.05)',\n                                    drawBorder: false,\n                                    lineWidth: 1\n                                },\n                                ticks: {\n                                    font: {\n                                        family: 'Cairo',\n                                        size: 12\n                                    },\n                                    color: '#6b7280',\n                                    callback: function(value) {\n                                        return new Intl.NumberFormat('ar-SA', {\n                                            notation: 'compact',\n                                            compactDisplay: 'short'\n                                        }).format(value);\n                                    }\n                                }\n                            },\n                            y: {\n                                grid: {\n                                    display: false\n                                },\n                                ticks: {\n                                    font: {\n                                        family: 'Cairo',\n                                        size: 13,\n                                        weight: '600'\n                                    },\n                                    color: '#374151',\n                                    maxRotation: 0,\n                                    callback: function(value, index) {\n                                        const label = this.getLabelForValue(value);\n                                        return label.length > 30 ? label.substring(0, 30) + '...' : label;\n                                    }\n                                }\n                            }\n                        },\n                        animation: {\n                            duration: 2000,\n                            easing: 'easeInOutQuart'\n                        },\n                        interaction: {\n                            intersect: false,\n                            mode: 'index'\n                        }\n                    }\n                });\n            }\n        }\n        \n        // تهيئة الرسوم البيانية عند تحميل الصفحة\n        document.addEventListener('DOMContentLoaded', () => {\n            new EnhancedCharts();\n        });\n        \n        // إضافة تأثيرات التحريك\n        const observerOptions = {\n            threshold: 0.1,\n            rootMargin: '0px 0px -50px 0px'\n        };\n        \n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    entry.target.classList.add('animate-in');\n                }\n            });\n        }, observerOptions);\n        \n        document.querySelectorAll('.chart-container, .stats-grid').forEach(el => {\n            observer.observe(el);\n        });\n    </script>\n</body>\n</html>\n